(this.webpackJsonprevolta=this.webpackJsonprevolta||[]).push([[0],{57:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),o=a(33),r=a.n(o),s=a(4),i=a(6),u=a(13),j=a.n(u),l=a(17),b=(a(31),Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BASE_URL:"http://apirevolta.facuaquino.com.ar"}).REACT_APP_URL||"http://apirevolta.facuaquino.com.ar"),d=a(10),m=a(2),p=a(15),O=(a(57),a(0)),h=function(){var e=Object(n.useState)({name:"",password:""}),t=Object(i.a)(e,2),a=t[0],c=t[1],o=Object(n.useContext)(J).login,r=Object(n.useState)(!1),u=Object(i.a)(r,2),j=u[0],l=u[1],b=function(e){c(Object(s.a)(Object(s.a)({},a),{},Object(p.a)({},e.target.name,e.target.value)))};return Object(O.jsx)("div",{className:"form_container",children:Object(O.jsxs)("form",{onSubmit:function(e){e.preventDefault(),l(!0),o(a),l(!1)},className:"form_form",action:"",children:[Object(O.jsx)("label",{className:"form_label",htmlFor:"user",children:"Usuario"}),Object(O.jsx)("input",{onChange:b,id:"user",className:"form_input",type:"text",name:"name",required:!0}),Object(O.jsx)("label",{className:"form_label",htmlFor:"password",children:"Contrase\xf1a"}),Object(O.jsx)("input",{onChange:b,id:"password",className:"form_input",type:"password",name:"password",required:!0}),Object(O.jsx)("button",{disabled:j,className:"form_button",children:"Enviar"})]})})},x=(a(59),function(){return Object(O.jsx)("main",{className:"login_main",children:Object(O.jsx)(h,{})})}),f=function(){return Object(O.jsx)("div",{})},v=(a(60),a.p+"static/media/fondo.077ac129.png"),g=(a(61),function(){var e=Object(n.useContext)(J).logout;return Object(O.jsx)("li",{onClick:e,className:"logout",children:"Salir"})}),_=function(){return Object(O.jsx)("nav",{children:Object(O.jsxs)("ul",{className:"navbar",children:[Object(O.jsx)(d.b,{to:"/home",children:Object(O.jsx)("img",{className:"navbar_logo",src:v,alt:""})}),Object(O.jsx)("li",{children:Object(O.jsx)(d.c,{className:"nav_link",activeClassName:"navbar_active",to:"/home/ritmos",children:"Ritmos"})}),Object(O.jsx)("li",{children:Object(O.jsx)(d.c,{className:"nav_link",activeClassName:"navbar_active",to:"/home/upload",children:"Subir"})}),Object(O.jsx)(g,{})]})})},N=a(5),S=a.n(N),w=a(12),C=function(e){return e/1024/1024>500&&((new l.a).error({message:"Archivo muy grande",duration:2e3}),!0)},y=(a(68),function(){var e=Object(n.useState)({name:"",description:"",ritmo:"",archivo:""}),t=Object(i.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(0),r=Object(i.a)(o,2),u=r[0],l=r[1],d=b,h=Object(n.useState)(!1),x=Object(i.a)(h,2),f=x[0],v=x[1],g=Object(m.g)(),_=function(){var e=Object(w.a)(S.a.mark((function e(t){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),v(!0),e.prev=2,(n=new FormData).append("archivo",a.archivo),n.append("name",a.name),n.append("description",a.description),n.append("ritmo",a.ritmo),e.next=10,j()({url:"".concat(d,"/api/uploads/").concat(a.ritmo),method:"POST",data:n,onUploadProgress:function(e){var t=e.total,a=e.loaded,n=Math.floor(100*a/t);l(n)}});case 10:g.push("/home/ritmos/".concat(a.ritmo)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),console.log(e.t0.response);case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}(),N=function(e){if("archivo"===e.target.name){if(C(e.target.files[0].size))return void(e.target.value="");c(Object(s.a)(Object(s.a)({},a),{},{archivo:e.target.files[0]}))}else c(Object(s.a)(Object(s.a)({},a),{},Object(p.a)({},e.target.name,e.target.value)))};return Object(O.jsx)("div",{className:"upload_container",children:Object(O.jsxs)("form",{onSubmit:_,className:"upload__form",children:[Object(O.jsx)("label",{className:"upload_label",htmlFor:"name",children:"Titulo"}),Object(O.jsx)("input",{onChange:N,className:"upload_input",required:!0,id:"name",type:"text",name:"name"}),Object(O.jsx)("label",{className:"upload_label",htmlFor:"ritmo",children:"Ritmo"}),Object(O.jsx)("input",{onChange:N,className:"upload_input",required:!0,id:"ritmo",type:"text",name:"ritmo"}),Object(O.jsx)("label",{className:"upload_label",htmlFor:"description",children:"Descripcion"}),Object(O.jsx)("textarea",{onChange:N,id:"description",className:"upload_textarea",maxLength:"100",type:"text",name:"description"}),Object(O.jsx)("input",{onChange:N,className:"input_file",required:!0,type:"file",name:"archivo",accept:".mp3,.mp4,.mpeg,.opus,.ogg"}),Object(O.jsxs)("div",{className:"upload_button-container",children:[Object(O.jsx)("div",{className:"upload_button-bar",style:{width:"".concat(u,"%")}}),Object(O.jsx)("button",{disabled:f,className:"upload_button"}),Object(O.jsx)("div",{className:"upload_button-text",children:f?"Subiendo Archivo ".concat(u,"%"):"Enviar"})]})]})})}),A=function(){var e=Object(w.a)(S.a.mark((function e(){var t,a,n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=b,e.next=3,j.a.get("".concat(t,"/api/uploads"));case 3:return a=e.sent,n=a.data,e.abrupt("return",n.folders);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=(a(69),a.p+"static/media/iconVideo.ea408745.png"),k=(a(70),function(){return Object(O.jsxs)("div",{className:"lds-ring",children:[Object(O.jsx)("div",{}),Object(O.jsx)("div",{}),Object(O.jsx)("div",{}),Object(O.jsx)("div",{})]})}),T=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!1),r=Object(i.a)(o,2),s=r[0],u=r[1];return Object(n.useEffect)((function(){function e(){return(e=Object(w.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,A();case 3:t=e.sent,c(t),u(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),s?Object(O.jsx)(k,{}):Object(O.jsx)("main",{className:"homeVideos_container",children:a.map((function(e){return Object(O.jsxs)("div",{className:"video_container-link",children:[Object(O.jsx)("img",{className:"video_icon",src:E,alt:""}),Object(O.jsx)(d.b,{className:"videos_link",to:"/home/ritmos/".concat(e),children:e},e)]},e)}))})},P=function(){var e=Object(w.a)(S.a.mark((function e(t){var a,n,c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=b,e.next=3,j.a.get("".concat(a,"/api/uploads/").concat(t));case 3:return n=e.sent,c=n.data,e.abrupt("return",c.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=(a(71),function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],o=Object(m.h)().ritmo,r=b;return Object(n.useEffect)((function(){function e(){return(e=Object(w.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(o);case 2:t=e.sent,c(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[o]),Object(O.jsx)("main",{className:"main_videos",children:a.map((function(e){return Object(O.jsxs)("div",{className:"video_container",children:[Object(O.jsx)("div",{className:"video_name",children:e.name}),Object(O.jsx)("p",{className:"video_description",children:e.description}),Object(O.jsx)("video",{src:"".concat(r,"/api/uploads/").concat(o,"/").concat(e.path),width:"300px",codecs:"avc1, mp4a",controls:!0})]},e.path)}))})}),F=function(){return Object(O.jsx)("div",{children:Object(O.jsxs)(m.d,{children:[Object(O.jsx)(m.b,{exact:!0,path:"/home/ritmos",component:T}),Object(O.jsx)(m.b,{path:"/home/ritmos/:ritmo",component:R})]})})},D=function(){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(_,{}),Object(O.jsx)("div",{className:"container",children:Object(O.jsxs)(m.d,{children:[Object(O.jsx)(m.b,{exact:!0,path:"/home",component:f}),Object(O.jsx)(m.b,{exact:!0,path:"/home/upload",component:y}),Object(O.jsx)(m.b,{path:"/home/ritmos",component:F})]})})]})},q=a(18),U=["isAutheticated","component"],I=function(e){var t=e.isAutheticated,a=e.component,n=Object(q.a)(e,U);return Object(O.jsx)(m.b,Object(s.a)(Object(s.a)({},n),{},{component:function(e){return t?Object(O.jsx)(a,Object(s.a)({},e)):Object(O.jsx)(m.a,{to:"/"})}}))},L=["isAutheticated","component"],B=function(e){var t=e.isAutheticated,a=e.component,n=Object(q.a)(e,L);return Object(O.jsx)(m.b,Object(s.a)(Object(s.a)({},n),{},{component:function(e){return t?Object(O.jsx)(m.a,{to:"/home"}):Object(O.jsx)(a,Object(s.a)({},e))}}))},H=function(){var e=Object(n.useContext)(J).user;return Object(O.jsx)(d.a,{children:Object(O.jsx)("div",{children:Object(O.jsxs)(m.d,{children:[Object(O.jsx)(I,{path:"/home",component:D,isAutheticated:e.logged}),Object(O.jsx)(B,{exact:!0,path:"/",component:x,isAutheticated:e.logged})]})})})},J=c.a.createContext(),K=JSON.parse(localStorage.getItem("login"))||!1,V=function(){var e=Object(n.useState)({logged:K}),t=Object(i.a)(e,2),a=t[0],c=t[1],o=b;return Object(O.jsx)(J.Provider,{value:{user:a,login:function(e){j.a.post("".concat(o,"/api/users/login"),Object(s.a)({},e)).then((function(e){localStorage.setItem("login",!0),c({logged:!0})})).catch((function(e){var t=e.response;console.log(t.data.msg),(new l.a).error({message:"usuario a pass incorrecta",duration:1500})}))},logout:function(){localStorage.removeItem("login"),c({logged:!1})}},children:Object(O.jsx)(H,{})})},W=(a(72),function(){return Object(O.jsx)(V,{})});r.a.render(Object(O.jsx)(W,{}),document.getElementById("root"))}},[[73,1,2]]]);
//# sourceMappingURL=main.b871928f.chunk.js.map