(this.webpackJsonprevolta=this.webpackJsonprevolta||[]).push([[0],{59:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(31),o=a.n(r),s=a(4),i=a.n(s),u=a(10),j=a(5),l=a(11),b=a(13),m=a.n(b),d=a(32),p=(a(57),Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BASE_URL:"http://apirevolta.facuaquino.com.ar"}).REACT_APP_URL||"http://apirevolta.facuaquino.com.ar"),O=a(0),h=c.a.createContext(),x=JSON.parse(localStorage.getItem("login"))||!1,f=function(e){var t=e.children,a=Object(n.useState)({logged:x}),c=Object(l.a)(a,2),r=c[0],o=c[1],s=p,b=function(){var e=Object(u.a)(i.a.mark((function e(t,a){var n,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("archivo",t.archivo),n.append("name",t.name),n.append("description",t.description),n.append("ritmo",t.ritmo),e.next=7,m()({url:"".concat(s,"/api/uploads/").concat(t.ritmo),method:"POST",data:n});case 7:return c=e.sent,e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(O.jsx)(h.Provider,{value:{user:r,login:function(e){m.a.post("".concat(s,"/api/users/login"),Object(j.a)({},e)).then((function(e){localStorage.setItem("login",!0),o({logged:!0})})).catch((function(e){var t=e.response;console.log(t.data.msg),(new d.a).error({message:"usuario a pass incorrecta",duration:1500})}))},uploadFile:b},children:t})},v=a(9),g=a(2),_=a(15),N=(a(59),function(){var e=Object(n.useState)({name:"",password:""}),t=Object(l.a)(e,2),a=t[0],c=t[1],r=Object(n.useContext)(h).login,o=Object(n.useState)(!1),s=Object(l.a)(o,2),i=s[0],u=s[1],b=function(e){c(Object(j.a)(Object(j.a)({},a),{},Object(_.a)({},e.target.name,e.target.value)))};return Object(O.jsx)("div",{className:"form_container",children:Object(O.jsxs)("form",{onSubmit:function(e){e.preventDefault(),u(!0),r(a),u(!1)},className:"form_form",action:"",children:[Object(O.jsx)("label",{className:"form_label",htmlFor:"user",children:"Usuario"}),Object(O.jsx)("input",{onChange:b,id:"user",className:"form_input",type:"text",name:"name",required:!0}),Object(O.jsx)("label",{className:"form_label",htmlFor:"password",children:"Contrase\xf1a"}),Object(O.jsx)("input",{onChange:b,id:"password",className:"form_input",type:"password",name:"password",required:!0}),Object(O.jsx)("button",{disabled:i,className:"form_button",children:"Enviar"})]})})}),S=(a(60),function(){return Object(O.jsx)("main",{className:"login_main",children:Object(O.jsx)(N,{})})}),w=function(){return Object(O.jsx)("div",{})},C=function(){var e=Object(u.a)(i.a.mark((function e(){var t,a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=p,e.next=3,m.a.get("".concat(t,"/api/uploads"));case 3:return a=e.sent,n=a.data,e.abrupt("return",n.folders);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=(a(61),a.p+"static/media/fondo.077ac129.png"),A=function(){return Object(O.jsx)("nav",{children:Object(O.jsxs)("ul",{className:"navbar",children:[Object(O.jsx)(v.b,{to:"/home",children:Object(O.jsx)("img",{className:"navbar_logo",src:E,alt:""})}),Object(O.jsx)("li",{children:Object(O.jsx)(v.c,{className:"nav_link",activeClassName:"navbar_active",to:"/home/ritmos",children:"Ritmos"})}),Object(O.jsx)("li",{children:Object(O.jsx)(v.c,{className:"nav_link",activeClassName:"navbar_active",to:"/home/upload",children:"Subir"})})]})})},k=function(){var e=Object(u.a)(i.a.mark((function e(t){var a,n,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=p,e.next=3,m.a.get("".concat(a,"/api/uploads/").concat(t));case 3:return n=e.sent,c=n.data,e.abrupt("return",c.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=(a(67),function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],c=t[1],r=Object(g.h)().ritmo,o=p;return Object(n.useEffect)(Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(r);case 2:t=e.sent,c(t);case 4:case"end":return e.stop()}}),e)}))),[r]),Object(O.jsx)("main",{className:"main_videos",children:a.map((function(e){return Object(O.jsxs)("div",{className:"video_container",children:[Object(O.jsx)("div",{className:"video_name",children:e.name}),Object(O.jsx)("p",{className:"video_description",children:e.description}),Object(O.jsx)("video",{src:"".concat(o,"/api/uploads/").concat(r,"/").concat(e.path),width:"300",controls:!0}),Object(O.jsx)("hr",{})]},e.path)}))})}),F=(a(68),function(){var e=Object(n.useState)({name:"",description:"",ritmo:"",archivo:""}),t=Object(l.a)(e,2),a=t[0],c=t[1],r=Object(n.useContext)(h).uploadFile,o=Object(n.useState)(!1),s=Object(l.a)(o,2),b=s[0],m=s[1],d=Object(g.g)(),p=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),m(!0),e.prev=2,e.next=5,r(a);case 5:e.sent,d.push("/home/ritmos/".concat(a.ritmo)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),x=function(e){"archivo"==e.target.name?c(Object(j.a)(Object(j.a)({},a),{},{archivo:e.target.files[0]})):c(Object(j.a)(Object(j.a)({},a),{},Object(_.a)({},e.target.name,e.target.value)))};return Object(O.jsx)("div",{className:"upload_container",children:Object(O.jsxs)("form",{onSubmit:p,className:"upload__form",children:[Object(O.jsx)("label",{className:"upload_label",htmlFor:"name",children:"Titulo"}),Object(O.jsx)("input",{onChange:x,className:"upload_input",required:!0,id:"name",type:"text",name:"name"}),Object(O.jsx)("label",{className:"upload_label",htmlFor:"ritmo",children:"Ritmo"}),Object(O.jsx)("input",{onChange:x,className:"upload_input",required:!0,id:"ritmo",type:"text",name:"ritmo"}),Object(O.jsx)("label",{className:"upload_label",htmlFor:"description",children:"Descripcion"}),Object(O.jsx)("textarea",{onChange:x,id:"description",className:"upload_textarea",maxLength:"100",type:"text",name:"description"}),Object(O.jsx)("input",{onChange:x,className:"input_file",required:!0,type:"file",name:"archivo",accept:".mp3,.mp4,.mpeg,.opus,.ogg"}),Object(O.jsx)("button",{disabled:b,className:"upload_button",children:b?"Subiendo Archivo":"Enviar"})]})})}),T=(a(69),a.p+"static/media/iconVideo.05cd0526.png"),R=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)(Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C();case 2:t=e.sent,c(t);case 4:case"end":return e.stop()}}),e)}))),[]),Object(O.jsx)("main",{className:"homeVideos_container",children:a.map((function(e){return Object(O.jsxs)("div",{className:"video_container-link",children:[Object(O.jsx)("img",{className:"video_icon",src:T,alt:""}),Object(O.jsx)(v.b,{className:"videos_link",to:"/home/ritmos/".concat(e),children:e},e)]})}))})},P=function(){return Object(O.jsx)("div",{children:Object(O.jsxs)(g.d,{children:[Object(O.jsx)(g.b,{exact:!0,path:"/home/ritmos",component:R}),Object(O.jsx)(g.b,{path:"/home/ritmos/:ritmo",component:y})]})})},D=function(){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(A,{}),Object(O.jsx)("div",{className:"container",children:Object(O.jsxs)(g.d,{children:[Object(O.jsx)(g.b,{exact:!0,path:"/home",component:w}),Object(O.jsx)(g.b,{exact:!0,path:"/home/upload",component:F}),Object(O.jsx)(g.b,{path:"/home/ritmos",component:P})]})})]})},q=a(17),L=["isAutheticated","component"],U=function(e){var t=e.isAutheticated,a=e.component,n=Object(q.a)(e,L);return Object(O.jsx)(g.b,Object(j.a)(Object(j.a)({},n),{},{component:function(e){return t?Object(O.jsx)(a,Object(j.a)({},e)):Object(O.jsx)(g.a,{to:"/"})}}))},I=["isAutheticated","component"],B=function(e){var t=e.isAutheticated,a=e.component,n=Object(q.a)(e,I);return Object(O.jsx)(g.b,Object(j.a)(Object(j.a)({},n),{},{component:function(e){return t?Object(O.jsx)(g.a,{to:"/home"}):Object(O.jsx)(a,Object(j.a)({},e))}}))},H=function(){var e=Object(n.useContext)(h).user;return Object(O.jsx)(v.a,{children:Object(O.jsx)("div",{children:Object(O.jsxs)(g.d,{children:[Object(O.jsx)(U,{path:"/home",component:D,isAutheticated:e.logged}),Object(O.jsx)(B,{exact:!0,path:"/",component:S,isAutheticated:e.logged})]})})})},J=(a(70),function(){return Object(O.jsx)(f,{children:Object(O.jsx)(H,{})})});o.a.render(Object(O.jsx)(J,{}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.2386dbb4.chunk.js.map